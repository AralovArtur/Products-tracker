{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Artur\\\\Desktop\\\\Adcash-assignment\\\\mern_products_tracker\\\\src\\\\components\\\\products.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Row, Button } from \"reactstrap\";\n\nconst Product = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }\n}, props.product.name), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }\n}, props.product.category), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, props.product.date.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/products/edit/\" + props.product._id,\n  className: \"btn btn-primary\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 7\n  }\n}, \"edit\"), \" \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  className: \"btn btn-secondary\",\n  onClick: () => {\n    props.deleteProduct(props.product._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 7\n  }\n}, \"delete\")));\n\nexport default class Products extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.state = {\n      products: [],\n      categories: [],\n      category: \"ALL\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/products/\").then(response => {\n      this.setState({\n        products: response.data\n      });\n      console.log(this.state.products);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:5000/categories/\").then(response => {\n      if (response.data.length > 0) {\n        this.setState({\n          categories: response.data.map(category => category.name)\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deleteProduct(id) {\n    axios.delete(\"http://localhost:5000/products/\" + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      products: this.state.products.filter(el => el._id !== id)\n    });\n  }\n\n  productsList() {\n    return this.state.products.map(currentProduct => {\n      return /*#__PURE__*/React.createElement(Product, {\n        product: currentProduct,\n        deleteProduct: this.deleteProduct,\n        key: currentProduct._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      });\n    });\n  }\n\n  onChangeCategory(e) {\n    const category = e.target.value;\n\n    if (category === \"All\") {\n      axios.get(\"http://localhost:5000/products/\").then(response => {\n        this.setState({\n          products: response.data\n        });\n        console.log(this.state.products);\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      axios.get(\"http://localhost:5000/products/\" + category).then(response => {\n        this.setState({\n          products: response.data\n        });\n        console.log(this.state.products);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"Products\"), /*#__PURE__*/React.createElement(\"select\", {\n      ref: \"userInput\",\n      required: true,\n      className: \"form-control\",\n      onChange: this.onChangeCategory,\n      value: this.state.category,\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      key: \"All\",\n      value: \"All\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, \"All\"), this.state.categories.map(function (category) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: category,\n        value: category,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, category);\n    }))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, this.productsList())));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Artur/Desktop/Adcash-assignment/mern_products_tracker/src/components/products.js"],"names":["React","Component","Link","axios","Row","Button","Product","props","product","name","category","date","substring","_id","deleteProduct","Products","constructor","bind","state","products","categories","componentDidMount","get","then","response","setState","data","console","log","catch","error","length","map","id","delete","filter","el","productsList","currentProduct","onChangeCategory","e","target","value","render","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Row, Button } from \"reactstrap\";\r\n\r\nconst Product = (props) => (\r\n  <tr>\r\n    <td>{props.product.name}</td>\r\n    <td>{props.product.category}</td>\r\n    <td>{props.product.date.substring(0, 10)}</td>\r\n    <td>\r\n      <Link\r\n        to={\"/products/edit/\" + props.product._id}\r\n        className=\"btn btn-primary\"\r\n      >\r\n        edit\r\n      </Link>{\" \"}\r\n      <a\r\n        href=\"#\"\r\n        className=\"btn btn-secondary\"\r\n        onClick={() => {\r\n          props.deleteProduct(props.product._id);\r\n        }}\r\n      >\r\n        delete\r\n      </a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default class Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.deleteProduct = this.deleteProduct.bind(this);\r\n\r\n    this.state = {\r\n      products: [],\r\n      categories: [],\r\n      category: \"ALL\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/products/\")\r\n      .then((response) => {\r\n        this.setState({ products: response.data });\r\n        console.log(this.state.products);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/categories/\")\r\n      .then((response) => {\r\n        if (response.data.length > 0) {\r\n          this.setState({\r\n            categories: response.data.map((category) => category.name),\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  deleteProduct(id) {\r\n    axios.delete(\"http://localhost:5000/products/\" + id).then((response) => {\r\n      console.log(response.data);\r\n    });\r\n\r\n    this.setState({\r\n      products: this.state.products.filter((el) => el._id !== id),\r\n    });\r\n  }\r\n\r\n  productsList() {\r\n    return this.state.products.map((currentProduct) => {\r\n      return (\r\n        <Product\r\n          product={currentProduct}\r\n          deleteProduct={this.deleteProduct}\r\n          key={currentProduct._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  onChangeCategory(e) {\r\n    const category = e.target.value;\r\n    if (category === \"All\") {\r\n      axios\r\n        .get(\"http://localhost:5000/products/\")\r\n        .then((response) => {\r\n          this.setState({ products: response.data });\r\n          console.log(this.state.products);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      axios\r\n        .get(\"http://localhost:5000/products/\" + category)\r\n        .then((response) => {\r\n          this.setState({ products: response.data });\r\n          console.log(this.state.products);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <h3 style={{ margin: 10 }}>Products</h3>\r\n          <select\r\n            ref=\"userInput\"\r\n            required\r\n            className=\"form-control\"\r\n            onChange={this.onChangeCategory}\r\n            value={this.state.category}\r\n            style={{ margin: 10 }}\r\n          >\r\n            {\r\n              <option key=\"All\" value=\"All\">\r\n                All\r\n              </option>\r\n            }\r\n            {this.state.categories.map(function (category) {\r\n              return (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </Row>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Category</th>\r\n              <th>Date</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{this.productsList()}</tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}